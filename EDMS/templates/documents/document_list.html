{% extends "base.html" %}
{% load compressed %}

{% block content %}
    <div class="row-fluid">
        <div class="span10">
            <div id="list_actions">
                <form action="{% url 'document_download' %}">
                    <input type="checkbox" id="select-all" />
                    <label for="select-all">Select/deselect</label>
                    <ul>
                        <li><select name="ids" id="id_ids" multiple="multiple"></select></li>
                        <li>{{ download_form.format }}</li>
                        <li>{{ download_form.revisions }}</li>
                    </ul>
                    <input type="submit" value="Download" class="btn" />
                </form>
            </div>
            {% include "documents/custom/list_table.html" %}
        </div>

        <div class="span2" id="sidebar">
            <form action="{% url 'document_filter' %}"
                  method="get"
                  id="table_filter">
                {# Include the hidden fields #}
                {% for hidden in form.hidden_fields %}
                    {{ hidden }}
                {% endfor %}
                {% include "documents/form_filtering.html" %}
            </form>
        </div>
    </div>
{% endblock %}

{% block extra_js %}
    {% compressed_js "datatable" %}

    <script>
    var config = {
        userId: {{ request.user.id }},
        csrfToken: "{{ csrf_token }}",
        createUrl: "{% url "favorite_create" %}",
        deleteUrl: "{% url "favorite_delete" "0" %}",
        filterUrl: "{% url "document_filter" %}",
        detailUrl: "{% url "document_detail" "documentNumber" %}"
    };
    </script>
{% endblock extra_js %}
