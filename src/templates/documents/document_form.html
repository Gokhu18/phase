{% extends "base.html" %}
{% load compressed crispy_forms_tags %}

{% block extra_css %}
    {% compressed_css "detail" %}
{% endblock extra_css %}

{% block createdocument %}{% endblock createdocument %}

{% block content %}
    <div class="col-sm-8 col-md-6 col-md-offset-1 col-lg-5 col-lg-offset-2">
        <h1>{{ is_edit|yesno:"Edit,New" }} document</h1>
        <form action="."
              method="post"
              class=""
              enctype="multipart/form-data"
              id="document-edit">
            {% csrf_token %}
            {% if form.non_field_errors %}
                <div class="alert alert-danger">
                    <p><strong>Please fix this error:</strong> {{ form.non_field_errors.0 }}</p>
                </div>
            {% endif %}
            {% crispy document_form document_form.helper %}
            <h2>{{ _('Revisable data') }}</h2>
            {% crispy revision_form revision_form.helper %}

            <hr />
            <div class="form-actions">
                {% if is_edit %}
                    {% include 'documents/edit_form_actions.html' %}
                {% else %}
                    {% include 'documents/create_form_actions.html' %}
                {% endif %}
            </div>
        </form>
    </div>

    {% include 'documents/document_detail_sidebar.html' with form=document_form revision_form=revision_form %}
{% endblock content %}

{% block extra_js %}
    {% compressed_js "detail" %}
{% endblock extra_js %}

